#!/bin/bash
grep "66\.249.*Googlebot" *2017*.log |sed  's/\"Mozilla.*Linux.*Android.*Nexus.*AppleWebKit.*\"/0/g'|sed 's/\"\(Mozilla\|Googlebot\).*www.google.com\/bot.html.*/1/g'|awk -F'[' '{print $2}'|cut -c1-6,33-|awk -F' ' '{print $1,$2,$7}'| sort -u |uniq | awk '{print $1,$3}' |sort |uniq -c |awk '{print $2,$3,$1}'|awk '{my_dict[$1][$2] = $3} END { for (key in my_dict) { print key,my_dict[key][0],my_dict[key][1]}}'|awk  '{for(i=1; i<=3; i++) if(length($i)==0) $i=0; print }'|sed 's/\/2017//g'|awk -F' ' '{print $1,$2,$3,$2+$3}'|sed 's/\//-/g'|sort -t$'-' -k 2M -k1 >googlebotscrawl
